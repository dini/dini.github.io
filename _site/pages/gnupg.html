<!DOCTYPE html>
<html lang="ru"><head><!-- Meta -->
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<!-- CSS -->
<link rel="stylesheet" href="/assets/css/style.css?v=">
<!-- Icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
<link rel="shortcut icon" href="/public/favicon.ico">
<!-- Hooks -->
<!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Notes" />
<!-- Begin Jekyll SEO tag v2.6.0 -->
<title>Авторизация SSH | Notes</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Авторизация SSH" />
<meta property="og:locale" content="ru" />
<meta name="description" content="For everlasting memory." />
<meta property="og:description" content="For everlasting memory." />
<meta property="og:site_name" content="Notes" />
<script type="application/ld+json">
{"description":"For everlasting memory.","@type":"WebPage","headline":"Авторизация SSH","url":"/pages/gnupg.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body><!-- Header -->
<header>
    <div><a rel="author" href="/">Notes</a>
    </div>
</header>
<!-- Section -->
<section><!-- Menu -->
<nav>
    <a href="/blog">Мысли вслух</a>
    <a href="/articles">Заметки на полях</a>
</nav>
<!-- Content -->
<article>
<h2 id="авторизация-ssh">Авторизация SSH</h2>
<p>В автозапуск добавляем:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export GPG_TTY=$(tty)
export SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)
</code></pre></div></div>
<p>В конфиг <code class="highlighter-rouge">~/.gnupg/gpg-agent.conf</code> добавляем строку:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>enable-ssh-support
</code></pre></div></div>
<!--more-->

<h3 id="ошибки">Ошибки</h3>
<p>Если при добавлении ключа получаем ошибку:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ssh-add id_rsa
Could not add identity "id_rsa": agent refused operation
</code></pre></div></div>
<p>То запускаем:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ echo UPDATESTARTUPTTY | gpg-connect-agent
</code></pre></div></div>

</article>
<!-- Anotation -->
<aside>
</aside>
</section>
<!-- Footer -->
<footer class="footer">
    <p>&copy; 2019. All rights reserved.</p>
</footer>

<!-- Search script -->
<script src="/assets/js/simple-jekyll-search.js"></script>
<script>
    window.simpleJekyllSearch = new SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
        noResultsText: 'No results found',
        limit: 10,
        fuzzy: false,
        exclude: ['Welcome']
    })
    function showSearchResults() {
        if(document.getElementById("search-input").value == "") {
            document.getElementById("index").style.display  = "block";
            document.getElementById("results-container").style.display  = "none";
        } else {
            document.getElementById("index").style.display = "none";
            document.getElementById("results-container").style.display = "block";
        }
    }
</script>
</body>
</html>
